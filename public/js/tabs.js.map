{"version":3,"file":"tabs.js","sources":["../../src/js/tabs.ts"],"sourcesContent":["// Simple tabbing functionality\n\nconst ACTIVE_CLASS = \"active\";\nconst INACTIVE_CLASS = \"inactive\";\nconst TABBAR_CLASS = \"tabbar\";\nconst BOX_CLASS = \"box\";\nconst TAB_CLASS = \"tab\";\n\n// activate(ele)\n//\n// Called by tab's onclick handler, activates the tab and\n// corresponding content box.\nlet activate = function (ele) {\n  if (!ele) {\n    return;\n  }\n\n  let index = -1,\n    clicked_index = -1,\n    children = ele.parentNode.parentNode.childNodes;\n\n  for (let i in children) {\n    if (!has_class(children[i], TABBAR_CLASS)) {\n      continue;\n    }\n\n    let tabs = children[i].childNodes;\n\n    // Tabs\n    for (let tab in tabs) {\n      if (!has_class(tabs[tab], TAB_CLASS)) {\n        continue;\n      }\n\n      index += 1;\n\n      if (tabs[tab] == ele) {\n        clicked_index = index;\n        tabs[tab].classList.remove(INACTIVE_CLASS);\n        tabs[tab].classList.add(ACTIVE_CLASS);\n      } else {\n        tabs[tab].classList.add(INACTIVE_CLASS);\n        tabs[tab].classList.remove(ACTIVE_CLASS);\n      }\n    }\n  }\n\n  // Boxes\n  if (ele.parentNode && ele.parentNode.parentNode) {\n    const children = ele.parentNode.parentNode.childNodes;\n\n    index = -1;\n\n    for (let i in children) {\n      if (!has_class(children[i], BOX_CLASS)) {\n        continue;\n      }\n\n      index += 1;\n\n      if (index == clicked_index) {\n        children[i].classList.remove(INACTIVE_CLASS);\n        children[i].classList.add(ACTIVE_CLASS);\n      } else {\n        children[i].classList.remove(ACTIVE_CLASS);\n        children[i].classList.add(INACTIVE_CLASS);\n      }\n    }\n  }\n}\n\n// has_class(ele, class_name)\n//\n// Determines whether the given element ele has the class\n// name class_name;\nlet has_class = function (ele, class_name) {\n  if (ele && ele.classList) {\n    return ele.classList.contains(class_name);\n  } else {\n    return false;\n  }\n}\n\nexport default function (el) {\n  const children = el.childNodes;\n\n  for (let j = 0; j < children.length; j++) {\n    if (!has_class(children[j], TABBAR_CLASS)) {\n      continue;\n    }\n\n    let tabs = children[j].childNodes;\n\n    for (let k = 0; k < tabs.length; k++) {\n      if (!has_class(tabs[k], TAB_CLASS)) {\n        continue;\n      }\n\n      tabs[k].addEventListener(\"click\", function () {\n        activate(this);\n      }, {\n        passive: true\n      });\n    }\n  }\n}"],"names":["el","children","childNodes","j","length","has_class","tabs","k","addEventListener","activate","passive","INACTIVE_CLASS","ele","index","clicked_index","parentNode","i","tab","classList","remove","add","children_1","class_name","contains"],"mappings":"iCAAA;WAmFyBA,GAGvB,OAFMC,CAAAA,CAAQ,CAAGD,CAAE,CAACE,UAEpB,CAASC,CAAC,CAAG,CAAb,CAAgBA,CAAC,CAAGF,CAAQ,CAACG,MAA7B,CAAqCD,CAAC,EAAtC,CACE,GAAKE,CAAS,CAACJ,CAAQ,CAACE,CAAD,CAAT,UAAd,CAMA,OAFIG,CAAAA,CAAI,CAAGL,CAAQ,CAACE,CAAD,CAAR,CAAYD,UAEvB,CAASK,CAAC,CAAG,CAAb,CAAgBA,CAAC,CAAGD,CAAI,CAACF,MAAzB,CAAiCG,CAAC,EAAlC,CACOF,CAAS,CAACC,CAAI,CAACC,CAAD,CAAL,OADhB,EAKED,CAAI,CAACC,CAAD,CAAJ,CAAQC,gBAAR,CAAyB,OAAzB,CAAkC,WAChCC,CAAQ,CAAC,IAAD,CACT,CAFD,CAEG,CACDC,OAAO,GADN,CAFH,CAOL,IAtGKC,CAAAA,CAAc,CAAG,WASnBF,CAAQ,CAAG,SAAUG,CAAV,EACb,GAAKA,CAAL,EAIA,GAAIC,CAAAA,CAAK,CAAG,CAAC,CAAb,CACEC,CAAa,CAAG,CAAC,CADnB,CAEEb,CAAQ,CAAGW,CAAG,CAACG,UAAJ,CAAeA,UAAf,CAA0Bb,UAFvC,CAIA,IAAK,GAAIc,CAAAA,CAAT,GAAcf,CAAAA,CAAd,CACE,GAAKI,CAAS,CAACJ,CAAQ,CAACe,CAAD,CAAT,CAlBG,QAkBH,CAAd,EAIA,GAAIV,CAAAA,CAAI,CAAGL,CAAQ,CAACe,CAAD,CAAR,CAAYd,UAAvB;AAGA,IAAK,GAAIe,CAAAA,CAAT,GAAgBX,CAAAA,CAAhB,CACOD,CAAS,CAACC,CAAI,CAACW,CAAD,CAAL,CAxBF,KAwBE,CADhB,GAKEJ,CAAK,EAAI,CALX,CAOMP,CAAI,CAACW,CAAD,CAAJ,EAAaL,CAPnB,EAQIE,CAAa,CAAGD,CARpB,CASIP,CAAI,CAACW,CAAD,CAAJ,CAAUC,SAAV,CAAoBC,MAApB,CAA2BR,CAA3B,CATJ,CAUIL,CAAI,CAACW,CAAD,CAAJ,CAAUC,SAAV,CAAoBE,GAApB,UAVJ,GAYId,CAAI,CAACW,CAAD,CAAJ,CAAUC,SAAV,CAAoBE,GAApB,CAAwBT,CAAxB,CAZJ,CAaIL,CAAI,CAACW,CAAD,CAAJ,CAAUC,SAAV,CAAoBC,MAApB,UAbJ,EAPA;AA0BF,GAAIP,CAAG,CAACG,UAAJ,EAAkBH,CAAG,CAACG,UAAJ,CAAeA,UAArC,CAAiD,CAC/C,GAAMM,CAAAA,CAAQ,CAAGT,CAAG,CAACG,UAAJ,CAAeA,UAAf,CAA0Bb,UAA3C,CAIA,IAAK,GAAIc,CAAAA,CAAT,GAFAH,CAAAA,CAAK,CAAG,CAAC,CAET,CAAcQ,CAAd,CACOhB,CAAS,CAACgB,CAAQ,CAACL,CAAD,CAAT,CAjDF,KAiDE,CADhB,GAKEH,CAAK,EAAI,CALX,CAOMA,CAAK,EAAIC,CAPf,EAQIO,CAAQ,CAACL,CAAD,CAAR,CAAYE,SAAZ,CAAsBC,MAAtB,CAA6BR,CAA7B,CARJ,CASIU,CAAQ,CAACL,CAAD,CAAR,CAAYE,SAAZ,CAAsBE,GAAtB,UATJ,GAWIC,CAAQ,CAACL,CAAD,CAAR,CAAYE,SAAZ,CAAsBC,MAAtB,UAXJ,CAYIE,CAAQ,CAACL,CAAD,CAAR,CAAYE,SAAZ,CAAsBE,GAAtB,CAA0BT,CAA1B,CAZJ,EAeD,CAvDD,CAwDD,EAMGN,CAAS,CAAG,SAAUO,CAAV,CAAeU,CAAf,WACVV,CAAG,EAAIA,CAAG,CAACM,YACNN,CAAG,CAACM,SAAJ,CAAcK,QAAd,CAAuBD,CAAvB,CAIV"}