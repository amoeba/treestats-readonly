{"version":3,"file":"tabs.js","sources":["../../src/tabs.js"],"sourcesContent":["// Simple tabbing functionality\n\nconst ACTIVE_CLASS = \"active\";\nconst INACTIVE_CLASS = \"inactive\";\nconst TABBAR_CLASS = \"tabbar\";\nconst BOX_CLASS = \"box\";\nconst TAB_CLASS = \"tab\";\n\n// activate(ele)\n//\n// Called by tab's onclick handler, activates the tab and\n// corresponding content box.\nlet activate = function (ele) {\n  if (!ele) {\n    return;\n  }\n\n  let index = -1,\n    clicked_index = -1,\n    children = ele.parentNode.parentNode.childNodes;\n\n  for (let i in children) {\n    if (!has_class(children[i], TABBAR_CLASS)) {\n      continue;\n    }\n\n    let tabs = children[i].childNodes;\n\n    // Tabs\n    for (let tab in tabs) {\n      if (!has_class(tabs[tab], TAB_CLASS)) {\n        continue;\n      }\n\n      index += 1;\n\n      if (tabs[tab] == ele) {\n        clicked_index = index;\n        tabs[tab].classList.remove(INACTIVE_CLASS);\n        tabs[tab].classList.add(ACTIVE_CLASS);\n      } else {\n        tabs[tab].classList.add(INACTIVE_CLASS);\n        tabs[tab].classList.remove(ACTIVE_CLASS);\n      }\n    }\n  }\n\n  // Boxes\n  if (ele.parentNode && ele.parentNode.parentNode) {\n    const children = ele.parentNode.parentNode.childNodes;\n\n    index = -1;\n\n    for (let i in children) {\n      if (!has_class(children[i], BOX_CLASS)) {\n        continue;\n      }\n\n      index += 1;\n\n      if (index == clicked_index) {\n        children[i].classList.remove(INACTIVE_CLASS);\n        children[i].classList.add(ACTIVE_CLASS);\n      } else {\n        children[i].classList.remove(ACTIVE_CLASS);\n        children[i].classList.add(INACTIVE_CLASS);\n      }\n    }\n  }\n}\n\n// has_class(ele, class_name)\n//\n// Determines whether the given element ele has the class\n// name class_name;\nlet has_class = function (ele, class_name) {\n  if (ele && ele.classList) {\n    return ele.classList.contains(class_name);\n  } else {\n    return false;\n  }\n}\n\nexport default function (el) {\n  const children = el.childNodes;\n\n  for (let j = 0; j < children.length; j++) {\n    if (!has_class(children[j], TABBAR_CLASS)) {\n      continue;\n    }\n\n    let tabs = children[j].childNodes;\n\n    for (let k = 0; k < tabs.length; k++) {\n      if (!has_class(tabs[k], TAB_CLASS)) {\n        continue;\n      }\n\n      tabs[k].addEventListener(\"click\", function () {\n        activate(this);\n      }, {\n        passive: true\n      });\n    }\n  }\n}"],"names":["ACTIVE_CLASS","INACTIVE_CLASS","TABBAR_CLASS","TAB_CLASS","activate","ele","index","clicked_index","children","parentNode","childNodes","i","has_class","tabs","tab","classList","remove","add","class_name","contains","el","j","length","k","addEventListener","passive"],"mappings":"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"}